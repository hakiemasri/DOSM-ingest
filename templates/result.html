{% extends "base.html" %}

{% block content %}
  <h1>Search Results</h1>
  <p>Showing {{ per_page }} results per page</p>
  
  <table>
    <thead>
      <tr>
        <th>Item</th>
        <th>Price</th>
        <th>Unit</th>
        <th>Item Group</th>
        <th>Item Category</th>
        <th>Premise</th>
        <th>Premise Type</th>
        <th>State</th>
        <th>District</th>
        <th>Address</th>
        <th>Date</th>
      </tr>
    </thead>
    <tbody>
      {% for row in result %}
        <tr>
          <td>{{ row[0] }}</td>
          <td>{{ row[1] }}</td>
          <td>{{ row[2] }}</td>
          <td>{{ row[3] }}</td>
          <td>{{ row[4] }}</td>
          <td>{{ row[5] }}</td>
          <td>{{ row[6] }}</td>
          <td>{{ row[7] }}</td>
          <td>{{ row[8] }}</td>
          <td>{{ row[9] }}</td>
          <td>{{ row[10] }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

  <!-- {% if total_count > per_page %}
    <div class="pagination">
      <ul>
        {% if page > 1 %}
          <li><a href="{{ url_for('result', page=page-1, per_page=per_page) }}">Previous</a></li>
        {% endif %}

        {% for i in range(1, total_pages+1) %}
          {% if i == page %}
            <li class="active" style="display: inline-block;"><a>{{ i }}</a></li>
          {% else %}
            <li style="display: inline-block;"><a href="{{ url_for('result', page=i, per_page=per_page) }}">{{ i }}</a></li>
          {% endif %}
        {% endfor %}

        {% if page < total_pages %}
          <li><a href="{{ url_for('result', page=page+1, per_page=per_page) }}">Next</a></li>
        {% endif %}
      </ul>
    </div>
  {% endif %} -->
  {% if total_pages > 1 %}
  <div class="pagination">
    {% if page != 1 %}
      <a href="{{ url_for('result', page=page-1, per_page=per_page) }}">&laquo;</a>
    {% endif %}
    {% for p in range(1, total_pages+1) %}
      {% if p == page %}
        <a href="{{ url_for('result', page=p, per_page=per_page) }}" class="active">{{ p }}</a>
      {% else %}
        <a href="{{ url_for('result', page=p, per_page=per_page) }}">{{ p }}</a>
      {% endif %}
    {% endfor %}
    {% if page != total_pages %}
      <a href="{{ url_for('result', page=page+1, per_page=per_page) }}">&raquo;</a>
    {% endif %}
  </div>
{% endif %}

{% endblock %}
